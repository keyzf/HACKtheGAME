<!doctype html>
<html>
	<head>
		<meta charset=utf-8>
		<title>Hack the game</title>
		<link rel=stylesheet href=style.css>
	</head>
	<body>
		<div class=left>
      <canvas id=background width=500 height=500></canvas>
      <canvas id=canvas width=500 height=500>Update your browser!</canvas>
    </div>
		</div>
		<div class=right id=code>
		
<textarea id=code1>/**************************************************************
 LEVEL 2: add the gravity!
**************************************************************/

/* Game initialization */

// Global object
var game = {};

// Global vars
game.gravityspeed = 5;                // gravity: 5px/frame
game.topreload = 2;                   // images to preload

// Canvas
game.canvas = document.getElementById('canvas');
game.ctx = game.canvas.getContext("2d");

// Preload images
game.preload = function(){
  game.topreload--;
  if(game.topreload === 0){           // all images are loaded
    game.draw();                      // draw the scene
    game.loop();                      // start the game loop
  }
}

// Draw the scene
game.draw = function(){
  // Hero
  game.ctx.drawImage(                 // display the hero
    game.hero[game.hero.state],       // at current state
    game.hero.x,                      // and position
    game.hero.y
  );
}

// Hero
game.hero = {};
game.hero.width = 30;                 // width
game.hero.height = 30;                // height
game.hero.x = 235;                    // horizontal position
game.hero.y = 235;                    // vertical position
game.hero.state = "fall";             // current state
game.hero.idle = new Image();         // image for "idle" state
game.hero.idle.src = "idle.png";      // image source
game.hero.idle.onload = game.preload; // image preload
game.hero.fall = new Image();         // image for "fall" state
game.hero.fall.src = "fall.png";      // image source
game.hero.fall.onload = game.preload; // image preload
game.draw();</textarea>
<textarea id=code2>/* Game loop */

// Loop
game.loop = function(){
  
  // Reset the canvas
  game.ctx.clearRect(0, 0, 500, 500);

  // Apply gravity
  game.gravity();
  
  // Draw the current frame
  game.draw();
  
  // Wait for next frame
  requestAnimationFrame(game.loop);
}

// Gravity</textarea>
<div class=edit>
<textarea id=code3>// Write the gravity function here</textarea>
</div>
      <br>
      <br>
		</div>
		<a class=help href=HTML5_Canvas_Cheat_Sheet.png target=_blank>Help</a>
		<script src=libs.js></script>
		<script src=level2.js></script>
	</body>
</html>